{% extends 'index.html' %}

{% block crashdataview %}
    <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
        {#        <div class="row placeholders">#}
        {#            <div class="col-xs-6 col-sm-3 placeholder">#}
        {#                <img data-src="holder.js/200x200/auto/sky" class="img-responsive" alt="Generic placeholder thumbnail">#}
        {#                <h4>Label</h4>#}
        {#                <span class="text-muted">Something else</span>#}
        {#            </div>#}
        {#            <div class="col-xs-6 col-sm-3 placeholder">#}
        {#                <img data-src="holder.js/200x200/auto/vine" class="img-responsive" alt="Generic placeholder thumbnail">#}
        {#                <h4>Label</h4>#}
        {#                <span class="text-muted">Something else</span>#}
        {#            </div>#}
        {#            <div class="col-xs-6 col-sm-3 placeholder">#}
        {#                <img data-src="holder.js/200x200/auto/sky" class="img-responsive" alt="Generic placeholder thumbnail">#}
        {#                <h4>Label</h4>#}
        {#                <span class="text-muted">Something else</span>#}
        {#            </div>#}
        {#            <div class="col-xs-6 col-sm-3 placeholder">#}
        {#                <img data-src="holder.js/200x200/auto/vine" class="img-responsive" alt="Generic placeholder thumbnail">#}
        {#                <h4>Label</h4>#}
        {#                <span class="text-muted">Something else</span>#}
        {#            </div>#}
        {#        </div>#}

        <canvas id="chart" width="900" height="400"></canvas>

        <script>

            // bar chart data
            var barData = {
                labels: [{% for item in labels %}
                    "{{item}}",
                {% endfor %}],
                datasets: [
                    {
                        fillColor: "rgba(151,187,205,0.2)",
                        strokeColor: "rgba(151,187,205,1)",
                        pointColor: "rgba(151,187,205,1)",
                        pointStrokeColor: "#fff",
                        pointHighlightFill: "#fff",
                        pointHighlightStroke: "rgba(151,187,205,1)",
                        bezierCurve: false,
                        data: [{% for item in values %}
                            {{item}},
                        {% endfor %}]
                    }]
            }

            Chart.defaults.global.animationSteps = 50;
            Chart.defaults.global.tooltipYPadding = 16;
            Chart.defaults.global.tooltipCornerRadius = 0;
            Chart.defaults.global.tooltipTitleFontStyle = "normal";
            Chart.defaults.global.tooltipFillColor = "rgba(0,0,0,0.8)";
            Chart.defaults.global.animationEasing = "easeOutBounce";
            Chart.defaults.global.responsive = false;
            Chart.defaults.global.scaleLineColor = "black";
            Chart.defaults.global.scaleFontSize = 16;

            // get bar chart canvas
            var mychart = document.getElementById("chart").getContext("2d");

            steps = 10;
            max = 50;
            // draw bar chart
            var LineChartDemo = new Chart(mychart).Line(barData, {
                scaleOverride: true,
                scaleSteps: steps,
                scaleStepWidth: Math.ceil(max / steps),
                scaleStartValue: 0,
                scaleShowVerticalLines: true,
                scaleShowGridLines: true,
                barShowStroke: true,
                scaleShowLabels: true,
                bezierCurve: false,

            });
        </script>

        <h2 class="sub-header">Crash Data</h2>
        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>Key</th>
                    <th>Value</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Crash Time</td>
                    <td>{{ crashdata.Time }}</td>
                </tr>
                <tr>
                    <td>Android Version</td>
                    <td>{{ crashdata.AndroidVersion }}</td>
                </tr>
                <tr>
                    <td>APP Version Code</td>
                    <td>{{ crashdata.APPVersionCode }}</td>
                </tr>
                <tr>
                    <td>APP Version Name</td>
                    <td>{{ crashdata.APPVersionName }}</td>
                </tr>
                <tr>
                    <td>Available Memory Size</td>
                    <td>{{ crashdata.AvailableMemorySize }}</td>
                </tr>
                <tr>
                    <td>Brand</td>
                    <td>{{ crashdata.Brand }}</td>
                </tr>
                <tr>
                    <td>Display</td>
                    <td>{{ crashdata.Display }}</td>
                </tr>
                <tr>
                    <td>Rotation</td>
                    <td>{{ crashdata.Rotation }}</td>
                </tr>
                <tr>
                    <td>BootLoader</td>
                    <td>{{ crashdata.BootLoader }}</td>
                </tr>
                <tr>
                    <td>BuildBrand</td>
                    <td>{{ crashdata.BuildBrand }}</td>
                </tr>
                <tr>
                    <td>CPU_ABI</td>
                    <td>{{ crashdata.CPU_ABI }}</td>
                </tr>
                <tr>
                    <td>CPU_ABI2</td>
                    <td>{{ crashdata.CPU_ABI2 }}</td>
                </tr>
                <tr>
                    <td>DisplayFirmware</td>
                    <td>{{ crashdata.DisplayFirmware }}</td>
                </tr>
                <tr>
                    <td>TWRP</td>
                    <td>{{ crashdata.TWRP }}</td>
                </tr>
                <tr>
                    <td>Model</td>
                    <td>{{ crashdata.Model }}</td>
                </tr>
                <tr>
                    <td>MainBoard</td>
                    <td>{{ crashdata.Board }}</td>
                </tr>
                <tr>
                    <td>Device Features</td>
                    <td>
                        {% for item in crashdata.DeviceFeatures %}
                            {{ item }}
                            <br/>
                        {% endfor %}
                    </td>
                </tr>
                <tr>
                    <td>Logcat</td>
                    <td>
                        <pre>{{ crashdata.Logcat }}</pre>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}